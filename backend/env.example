# DesignSight Backend Environment Configuration
# Copy this file to .env and fill in your actual values
# See API_COSTS.md for detailed cost information and optimization strategies

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
NODE_ENV=development
PORT=5000
FRONTEND_URL=http://localhost:5173

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# MongoDB connection string
# Local: mongodb://localhost:27017/designsight
# Atlas: mongodb+srv://<username>:<password>@cluster0.abcde.mongodb.net/designsight
MONGO_URI=mongodb://localhost:27017/designsight

# =============================================================================
# AI PROVIDER API KEYS (at least one required)
# =============================================================================
# OpenRouter (recommended - provides access to multiple AI models)
# Cost: GPT-4o-mini ~$0.15/1M input tokens, $0.60/1M output tokens
# Free tier: $5 credit for new accounts
OPENROUTER_API_KEY=your_openrouter_api_key_here

# Alternative: Direct OpenAI GPT-4V
# Cost: GPT-4o-mini ~$0.15/1M input tokens, $0.60/1M output tokens
# Free tier: $5 credit for new accounts
OPENAI_API_KEY=your_openai_api_key_here

# Alternative: Anthropic Claude Vision
# Cost: Claude 3.5 Sonnet ~$3.00/1M input tokens, $15.00/1M output tokens
# Free tier: $5 credit for new accounts
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# Alternative: Google Gemini Pro Vision
# Cost: ~$0.0005/1K input tokens, $0.0015/1K output tokens
# Free tier: 15 requests/minute, 1M tokens/day
GOOGLE_API_KEY=your_google_api_key_here

# Alternative: Hugging Face (BLIP-2, LLaVA models)
# Cost: Varies by model, some free models available
HUGGINGFACE_API_KEY=your_huggingface_api_key_here

# =============================================================================
# AUTHENTICATION CONFIGURATION
# =============================================================================
# JWT secret key (generate a strong random string)
JWT_SECRET=your_super_secret_jwt_key_here_minimum_32_characters
JWT_EXPIRE=7d

# =============================================================================
# FILE UPLOAD CONFIGURATION
# =============================================================================
# Maximum file size in bytes (10MB = 10485760 bytes)
MAX_FILE_SIZE=10485760
# Local upload path (if not using Cloudinary)
UPLOAD_PATH=./uploads

# =============================================================================
# CLOUDINARY CONFIGURATION (for image storage and AI analysis)
# =============================================================================
# Free tier: 25GB storage, 25GB bandwidth/month, 25K transformations/month
# Paid plans start at $89/month for 100GB storage
CLOUDINARY_CLOUD_NAME=your_cloudinary_cloud_name
CLOUDINARY_API_KEY=your_cloudinary_api_key
CLOUDINARY_API_SECRET=your_cloudinary_api_secret

# =============================================================================
# RATE LIMITING CONFIGURATION
# =============================================================================
# Rate limiting window in milliseconds (15 minutes = 900000ms)
RATE_LIMIT_WINDOW_MS=900000
# Maximum requests per window
RATE_LIMIT_MAX_REQUESTS=100

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
# Allowed origins for CORS (comma-separated for multiple origins)
CORS_ORIGIN=http://localhost:5173,http://localhost:3000

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
# Log level: error, warn, info, debug
LOG_LEVEL=info
# Enable verbose logging for debugging
VERBOSE_LOGGING=false
# Enable debug mode
DEBUG=false

# =============================================================================
# AI ANALYSIS CONFIGURATION
# =============================================================================
# Default AI provider (openrouter, openai, anthropic, google, huggingface)
DEFAULT_AI_PROVIDER=openrouter
# AI analysis timeout in milliseconds (60 seconds = 60000ms)
AI_ANALYSIS_TIMEOUT=60000
# Maximum number of retries for AI analysis
MAX_AI_RETRIES=3
# Enable AI response caching
AI_CACHE_ENABLED=true
# Cache TTL in seconds (24 hours = 86400 seconds)
AI_CACHE_TTL=86400

# =============================================================================
# COST TRACKING AND MANAGEMENT
# =============================================================================
# Enable cost tracking for AI usage
TRACK_AI_COSTS=true
# Daily cost limit in USD
DAILY_COST_LIMIT=10.00
# Monthly cost limit in USD
MONTHLY_COST_LIMIT=200.00
# Cost alert threshold in USD
COST_ALERT_THRESHOLD=50.00
# Enable cost alerts via email (requires email configuration)
COST_ALERTS_ENABLED=false

# =============================================================================
# EMAIL CONFIGURATION (for cost alerts and notifications)
# =============================================================================
# SMTP configuration for sending emails
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_app_password
SMTP_FROM=noreply@designsight.com

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# Enable HTTPS in production
HTTPS_ENABLED=false
# SSL certificate path (for production)
SSL_CERT_PATH=/path/to/cert.pem
SSL_KEY_PATH=/path/to/key.pem
# Session secret for secure sessions
SESSION_SECRET=your_session_secret_key_here
# Enable security headers
SECURITY_HEADERS_ENABLED=true

# =============================================================================
# MONITORING AND ANALYTICS
# =============================================================================
# Enable application monitoring
MONITORING_ENABLED=false
# Monitoring service endpoint (e.g., DataDog, New Relic)
MONITORING_ENDPOINT=
# Enable performance metrics collection
PERFORMANCE_METRICS_ENABLED=true
# Enable error tracking
ERROR_TRACKING_ENABLED=false
# Error tracking service endpoint (e.g., Sentry)
ERROR_TRACKING_ENDPOINT=

# =============================================================================
# DEVELOPMENT CONFIGURATION
# =============================================================================
# Enable hot reloading
HOT_RELOAD=true
# Enable API documentation
API_DOCS_ENABLED=true
# API documentation path
API_DOCS_PATH=/api-docs
# Enable test mode
TEST_MODE=false
# Test database URI (separate from production)
TEST_MONGO_URI=mongodb://localhost:27017/designsight-test

# =============================================================================
# PRODUCTION CONFIGURATION
# =============================================================================
# Enable production optimizations
PRODUCTION_OPTIMIZATIONS=true
# Enable compression
COMPRESSION_ENABLED=true
# Enable static file serving
STATIC_FILES_ENABLED=true
# Static files path
STATIC_FILES_PATH=./public
# Enable database connection pooling
DB_POOL_ENABLED=true
# Database connection pool size
DB_POOL_SIZE=10
# Database connection timeout
DB_CONNECTION_TIMEOUT=30000

# =============================================================================
# BACKUP AND RECOVERY
# =============================================================================
# Enable automatic backups
AUTO_BACKUP_ENABLED=false
# Backup frequency (daily, weekly, monthly)
BACKUP_FREQUENCY=daily
# Backup retention period in days
BACKUP_RETENTION_DAYS=30
# Backup storage location
BACKUP_STORAGE_PATH=./backups

# =============================================================================
# FEATURE FLAGS
# =============================================================================
# Enable experimental features
EXPERIMENTAL_FEATURES=false
# Enable beta features
BETA_FEATURES=false
# Enable advanced AI models
ADVANCED_AI_MODELS=false
# Enable real-time collaboration
REALTIME_COLLABORATION=true
# Enable export features
EXPORT_FEATURES=true
# Enable analytics dashboard
ANALYTICS_DASHBOARD=false